> Inclusion: ../droit_successions.catala_fr

# Tests

```catala
déclaration champ d'application Enfants:
  résultat base contenu Enfant dépend de identifiant contenu entier

champ d'application Enfants:
  définition base de identifiant égal à
    Enfant {
         -- identifiant: 0
         -- a_renoncé_à_la_succession: faux
         -- est_représenté: faux
         -- est_tenu_au_rapport_libéralité: faux
    }
```

```catala
déclaration champ d'application Test1:
  réserve_héréditaire champ d'application RéserveHéréditaire

champ d'application Test1:
  définition réserve_héréditaire.patrimoine_total égal à 300 000€
  définition réserve_héréditaire.enfants égal à []
  définition réserve_héréditaire.biens_usufruit_rente_viagère égal à []
  assertion réserve_héréditaire.quotité_réserve_héréditaire = 0,0
```

```catala
déclaration champ d'application Test2:
  réserve_héréditaire champ d'application RéserveHéréditaire
  enfants champ d'application Enfants

champ d'application Test2:
  définition réserve_héréditaire.patrimoine_total égal à 300 000 €
  définition réserve_héréditaire.enfants égal à [enfants.base de 0]
  définition réserve_héréditaire.biens_usufruit_rente_viagère égal à []
  assertion réserve_héréditaire.montant_réserve_héréditaire = 150 000 €
```

```catala
déclaration champ d'application Test3:
  réserve_héréditaire champ d'application RéserveHéréditaire
  enfants champ d'application Enfants

champ d'application Test3:
  définition réserve_héréditaire.patrimoine_total égal à 300 000 €
  définition réserve_héréditaire.enfants égal à
    [enfants.base de 0; enfants.base de 1]
  définition réserve_héréditaire.biens_usufruit_rente_viagère égal à []
  assertion réserve_héréditaire.montant_réserve_héréditaire = 100 000 €
```

```catala
déclaration champ d'application Test4:
  réserve_héréditaire champ d'application RéserveHéréditaire
  enfants champ d'application Enfants

champ d'application Test4:
  définition réserve_héréditaire.patrimoine_total égal à 300 000 €
  définition réserve_héréditaire.enfants égal à
    [enfants.base de 0; enfants.base de 1]
  définition réserve_héréditaire.biens_usufruit_rente_viagère égal à
    [BienUsufruitRenteViagère { -- valeur: 250 000 € -- prise_en_compte_pour_réserve_héréditaire : faux }]
  assertion réserve_héréditaire.patrimoine_assiette_réserve_héréditaire = 50 000 €
  assertion réserve_héréditaire.montant_réserve_héréditaire = 16666,67 €
```

```catala-test-inline
$ catala Interpret -s Test1
[ERROR]
Syntax error at token "collection"
Message: expected a type
You could have written : "liste de",
or "entier",
or "argent",
or "texte",
or "décimal",
or "date",
or "durée",
or "booléen"

Error token:
┌─⯈ examples/droit_successions/tests/../droit_successions.catala_fr:34.26-34.36:
└──┐
34 │   entrée enfants contenu collection Enfant
   │                          ‾‾‾‾‾‾‾‾‾‾

Last good token:
┌─⯈ examples/droit_successions/tests/../droit_successions.catala_fr:34.18-34.25:
└──┐
34 │   entrée enfants contenu collection Enfant
   │                  ‾‾‾‾‾‾‾
#return code 123#
```

```catala-test-inline
$ catala Interpret -s Test2
[ERROR]
Syntax error at token "collection"
Message: expected a type
You could have written : "liste de",
or "entier",
or "argent",
or "texte",
or "décimal",
or "date",
or "durée",
or "booléen"

Error token:
┌─⯈ examples/droit_successions/tests/../droit_successions.catala_fr:34.26-34.36:
└──┐
34 │   entrée enfants contenu collection Enfant
   │                          ‾‾‾‾‾‾‾‾‾‾

Last good token:
┌─⯈ examples/droit_successions/tests/../droit_successions.catala_fr:34.18-34.25:
└──┐
34 │   entrée enfants contenu collection Enfant
   │                  ‾‾‾‾‾‾‾
#return code 123#
```

```catala-test-inline
$ catala Interpret -s Test3
[ERROR]
Syntax error at token "collection"
Message: expected a type
You could have written : "liste de",
or "entier",
or "argent",
or "texte",
or "décimal",
or "date",
or "durée",
or "booléen"

Error token:
┌─⯈ examples/droit_successions/tests/../droit_successions.catala_fr:34.26-34.36:
└──┐
34 │   entrée enfants contenu collection Enfant
   │                          ‾‾‾‾‾‾‾‾‾‾

Last good token:
┌─⯈ examples/droit_successions/tests/../droit_successions.catala_fr:34.18-34.25:
└──┐
34 │   entrée enfants contenu collection Enfant
   │                  ‾‾‾‾‾‾‾
#return code 123#
```

```catala-test-inline
$ catala Interpret -s Test4
[ERROR]
Syntax error at token "collection"
Message: expected a type
You could have written : "liste de",
or "entier",
or "argent",
or "texte",
or "décimal",
or "date",
or "durée",
or "booléen"

Error token:
┌─⯈ examples/droit_successions/tests/../droit_successions.catala_fr:34.26-34.36:
└──┐
34 │   entrée enfants contenu collection Enfant
   │                          ‾‾‾‾‾‾‾‾‾‾

Last good token:
┌─⯈ examples/droit_successions/tests/../droit_successions.catala_fr:34.18-34.25:
└──┐
34 │   entrée enfants contenu collection Enfant
   │                  ‾‾‾‾‾‾‾
#return code 123#
```
