## Article

```catala
declaration scope S:
  output f content integer depends on y content integer
  input x content boolean

scope S:
  definition f of y equals if x then y else - y
```

```catala-test-inline
$ catala Lcalc --avoid_exceptions -O --closure_conversion
let S :
  S_in {"x_in": any} → S {"f": ((bool) → integer → integer * (any))} =
  λ (S_in: S_in {"x_in": any}) →
    let x : any = S_in."x_in" in
    let f : ((bool) → integer → integer * (any)) =
      let f1 : (bool) → integer → integer =
        λ (env: (bool)) (param: integer) →
          let x1 : bool = env.0 in
          if x1 then param else -! param in
      (f1, (x)) in
    S { "f"= f } in
S
```
