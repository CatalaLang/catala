(** This file has been generated by the Catala compiler, do not edit! *)

open Runtime_ocaml.Runtime

[@@@ocaml.warning "-4-26-27-32-41-42"]

module ScopeAOut = struct
  type t = {
    a_out: bool;
  }
end

module ScopeAIn = struct
  type t = {
    a_in: unit -> bool;
  }
end

module ScopeBOut = struct
  type t = unit
end 

module ScopeBIn = struct
  type t = {
    a_in: unit -> bool;
  }
end



let scope_a (scope_a_in: ScopeAIn.t) : ScopeAOut.t =
  let a_: unit -> bool = scope_a_in.ScopeAIn.a_in in
  let a_: bool = (try
                    (handle_default
                       {filename = "tests/test_scope/good/191_fix_record_name_confusion.catala_en";
                         start_line=5; start_column=18;
                         end_line=5; end_column=19; law_headings=["Article"]}
                       ([|(fun (_: _) -> a_ ())|]) (fun (_: _) -> true)
                       (fun (_: _) ->
                          handle_default
                            {filename = "tests/test_scope/good/191_fix_record_name_confusion.catala_en";
                              start_line=5; start_column=18;
                              end_line=5; end_column=19;
                              law_headings=["Article"]} ([||])
                            (fun (_: _) -> true) (fun (_: _) -> true))) with
                    EmptyError -> (raise (NoValueProvided
                    {filename = "tests/test_scope/good/191_fix_record_name_confusion.catala_en";
                      start_line=5; start_column=18;
                      end_line=5; end_column=19; law_headings=["Article"]}))) in
  {ScopeAOut.a_out = a_}

let scope_b (scope_b_in: ScopeBIn.t) : ScopeBOut.t =
  let a_: unit -> bool = scope_b_in.ScopeBIn.a_in in
  let scope_a_dot_a_: unit -> bool = fun (_: unit) -> (raise EmptyError) in
  let result_: ScopeAOut.t = ((scope_a) {ScopeAIn.a_in = scope_a_dot_a_}) in
  let scope_a_dot_a_: bool = result_.ScopeAOut.a_out in
  let a_: bool = (try
                    (handle_default
                       {filename = "tests/test_scope/good/191_fix_record_name_confusion.catala_en";
                         start_line=8; start_column=11;
                         end_line=8; end_column=12; law_headings=["Article"]}
                       ([|(fun (_: _) -> a_ ())|]) (fun (_: _) -> true)
                       (fun (_: _) ->
                          handle_default
                            {filename = "tests/test_scope/good/191_fix_record_name_confusion.catala_en";
                              start_line=8; start_column=11;
                              end_line=8; end_column=12;
                              law_headings=["Article"]} ([||])
                            (fun (_: _) -> true)
                            (fun (_: _) -> scope_a_dot_a_))) with EmptyError
                    -> (raise (NoValueProvided
                    {filename = "tests/test_scope/good/191_fix_record_name_confusion.catala_en";
                      start_line=8; start_column=11;
                      end_line=8; end_column=12; law_headings=["Article"]}))) in
  ()